# Repository Guidelines

## リポジトリ構成

このリポジトリはブログ記事のソース管理用です。記事は `YYYY-MM-DD-slug` 形式のディレクトリ（例: `2025-07-21-blog-v3/`）ごとに管理します。  
各ディレクトリには `README.mdx` を置き、画像などのアセットは同じ階層に配置して `./example.png` のような相対パスで参照します。

## 記事の作成・更新手順

1. `YYYY-MM-DD-slug` 形式でディレクトリを作成（または既存を利用）する。`0000-00-00-slug` とすると、下書きとなります。
2. `README.mdx` を作成・編集する。
3. 記事で使う画像やスクリーンショットは同じディレクトリに置く。
4. 体裁は既存記事に合わせ、新しい独自ルールは増やさない。

## Frontmatter ルール

`README.mdx` 先頭に YAML frontmatter を記述します。  
必須キーは `title` と `tags`、任意キーとして `updatedAt`（公開後の更新時）を使用します。

例:

```yaml
---
title: "Astroで記事内の画像を最適化する"
tags:
  - Tech
  - Astro
updatedAt: "2025-07-26"
---
```

## コミット前チェック

このリポジトリにはルート共通の build/test コマンドがないため、コミット前に以下を確認してください。

- `rg --files | rg 'README\\.mdx$'` で対象記事ファイルの存在を確認
- `rg -n '^---$|^title:|^tags:|^updatedAt:' */README.mdx` で frontmatter の整合性を確認
- `git diff --name-only` で意図したファイルだけ変更されているか確認
- 参照しているローカル画像が同一ディレクトリに含まれているか確認

## コミット方針

コミットメッセージは既存ルール（`feat:`, `fix:`, `style:`, `ci:`, `chore:`）に合わせ、要約は日本語で簡潔に書いてください。  
1コミット1目的（1記事変更、または1CI変更）を徹底します。
